
property PRODUCT_ADOPTION
 | Product adoption

svl clean info: [temporary] svl001_formula_inline

svl clean info: [temporary] svl001_formula_inline.mcl

svl clean info: [temporary] svl001_formula_inline.xm

"svl001_formula_inline.mcl" =
    macro QUERY () =
        (
    	(* Artificial action creating the initial groups *)
    	G .
    
    	(* Step to the relevant time window T-1 -- T -- T+1 *)
    	(not { SELF ... })* .
    
    	(* Customers & products in a group on period T-1 *)
    	{ SELF ?C_t_m_1:String ?P_t_m_1:String !":2018-09-01" }.
    
    	(* Step to the next period T *)
    	G or SG .
    
    	(* Customers & products in a (successor) group on period T *)
    	{ SELF ?C_t:String ?P_t:String !":2018-12-01" where
    	    (* P_t contains some promotional products *)
    	    (inter (string2natset (P_t), string2natset (P_t_m_1)) <> empty)
    	}
        )
    end_macro
    
    (* Explore all the paths matching the query and print
     * the sets of customers that adopted promotional products during T *)
    
    [
        QUERY
    ] print (
        (* Customers that adopted promotional products *)
        inter (string2natset (C_t_m_1), string2natset (C_t)),
        " ",
        (* The subset of promotional products they bought *)
        inter (string2natset (P_t), string2natset ("")),
        " ",
        (* The promotion period *)
        ":2018-12-01",
        "\n"
    )

verify "svl001_formula_inline.mcl" in "../graph/bcg/9M-5-[1-2001]-[a]-lcm.bcg"

svl clean info: [temporary] evaluator4

svl clean info: [temporary] evaluator4.o

% bcg_open   "../graph/bcg/9M-5-[1-2001]-[a]-lcm.bcg"  evaluator4 -source "product_adoption.svl:33" -dfs   "svl001_formula_inline.mcl"

svl clean info: [temporary] svl000_stdout
bcg_open: using ``/home/abdelouahab/cadp//bin.x64/evaluator4.a''
bcg_open: running ``evaluator4 -source product_adoption.svl:33 -dfs svl001_formula_inline.mcl'' for ``../graph/bcg/9M-5-[1-2001]-[a]-lcm.bcg''
[252901, 263432, 321180, 410397] [] :2018-12-01
[197939, 252901, 321180] [] :2018-12-01
[236344, 238881, 339428, 400788, 563868, 606741, 716095, 836821, 1047905, 1061200] [] :2018-12-01
[189637, 241262, 430600, 873625] [] :2018-12-01
[189637, 241262, 873625] [] :2018-12-01
[153534, 195200, 380944, 387373, 463969, 511024, 511792, 543558, 549038, 558641, 579243, 829305] [] :2018-12-01
[130464, 189419, 367316, 415543, 517175, 1022740, 1029030] [] :2018-12-01
[458921, 477520, 482352, 543430] [] :2018-12-01
[103316, 163934, 228538, 269882, 348948, 376207, 407466, 408070, 427283, 447321, 459305, 463253, 470042, 470752, 482740, 484507, 496860, 505602, 576380, 581633, 622174, 704970, 867784, 883193, 908982, 949568, 961949, 1017280, 1034893, 1071331, 1080578, 1087105, 1112722, 1163690, 1164184, 1228130] [] :2018-12-01
[348948, 407466, 470752, 484507, 622174, 908982, 961949, 1080578] [] :2018-12-01
[447321, 470752, 484507, 1017280] [] :2018-12-01
[470752] [] :2018-12-01
[408070, 470752, 704970, 1164184] [] :2018-12-01
[101392, 103904, 105649, 105769, 111061, 116517, 117912, 123642, 123949, 125615, 128265, 130464, 131834, 132260, 137060, 138325, 145566, 146201, 147772, 149886, 152266, 153534, 153850, 155710, 157047, 160513, 165324, 171799, 172457, 173559, 178285, 181027, 181964, 184070, 184841, 188482, 189419, 189637, 191747, 195200, 197939, 202124, 203487, 207309, 211606, 213211, 214303, 215374, 220829, 225819, 226924, 228704, 236344, 238881, 241262, 241363, 245072, 249602, 252901, 257663, 262086, 263432, 267956, 269558, 270927, 271256, 274467, 274953, 281256, 285626, 287447, 288714, 290288, 291564, 294576, 295124, 296219, 297113, 298742, 302709, 303696, 304157, 307874, 310380, 313472, 317586, 318322, 319166, 321180, 326483, 326781, 329769, 339428, 341341, 343312, 343449, 344970, 349622, 354817, 355592, 363045, 365174, 366567, 367316, 368517, 372225, 372638, 376752, 380944, 381797, 387373, 388999, 400788, 404674, 408037, 410397, 411179, 415543, 421208, 421796, 425951, 427408, 429092, 430600, 432893, 435091, 439087, 441660, 454219, 455312, 457865, 458921, 459345, 460550, 461515, 462236, 462819, 463550, 463969, 466493, 470805, 471841, 473077, 473727, 475157, 475803, 476652, 477520, 477692, 480366, 480373, 481113, 482352, 492488, 497772, 497798, 500915, 502556, 502923, 507197, 511024, 511792, 517175, 517784, 519137, 526964, 527677, 537265, 537872, 538133, 538955, 543430, 543558, 545927, 548581, 549038, 553151, 555013, 558424, 558641, 558934, 563868, 569912, 574409, 579243, 579353, 582381, 583156, 583460, 584471, 586233, 587093, 589753, 590237, 592647, 595081, 598391, 599293, 601900, 605207, 605523, 606450, 606741, 616355, 616767, 625376, 626163, 656134, 674245, 675569, 684785, 687176, 705196, 711253, 716095, 727800, 732484, 741466, 741484, 748250, 748989, 753443, 770844, 796188, 796552, 805459, 814206, 815942, 818420, 824341, 829305, 833102, 836821, 840183, 860385, 864534, 869078, 873625, 881500, 881662, 893132, 895812, 896583, 897112, 899725, 901879, 907965, 908076, 911967, 913899, 922746, 923982, 929267, 930308, 933793, 938584, 949334, 955102, 959654, 969405, 970916, 981371, 984775, 985407, 1005938, 1015669, 1022740, 1029030, 1037370, 1047905, 1048291, 1061200, 1066859, 1068315, 1075341, 1085992, 1089611, 1089775, 1098547, 1106512, 1107636, 1121072, 1124305, 1159100, 1160568, 1163180, 1166865, 1168320, 1198151, 1201800, 1210145, 1225140, 1235670] [] :2018-12-01
[105649, 153850, 171799, 188482, 252901, 274953, 281256, 295124, 298742, 317586, 344970, 363045, 366567, 372638, 380944, 463550, 476652, 492488, 497798, 502556, 537265, 538955, 548581, 558934, 579353, 606741, 626163, 716095, 741484, 818420, 836821, 895812, 908076, 1015669, 1068315, 1089775, 1124305] [] :2018-12-01
[130464, 173559, 188482, 189637, 274953, 281256, 365174, 410397, 538955, 553151, 606450, 616355, 732484, 818420, 897112, 929267, 1037370] [] :2018-12-01
[188482, 274953, 281256, 538955, 818420] [] :2018-12-01
[101392, 146201, 171799, 172457, 181027, 191747, 203487, 207309, 297113, 321180, 341341, 368517, 408037, 411179, 429092, 463969, 497798, 502923, 548581, 563868, 590237, 711253, 815942, 864534, 901879, 1022740, 1047905, 1075341] [] :2018-12-01
[171799, 497798, 548581] [] :2018-12-01
[147772, 365174, 477520, 583460, 1168320] [] :2018-12-01
[470752] [] :2018-12-01
[348948, 459305, 463253, 470752, 908982] [] :2018-12-01
[458921, 543430] [] :2018-12-01
[199984, 209038, 240683, 323051, 478604, 480899, 778698, 955120, 1236845] [] :2018-12-01
[209038, 480899] [] :2018-12-01
[184841, 189637, 241262, 432893, 527677, 599293, 873625, 1047905] [] :2018-12-01
[307874] [] :2018-12-01
[339428, 459345, 480373, 616767, 829305, 1089611, 1121072] [] :2018-12-01
[195200, 454219, 462819, 511792, 549038, 584471, 881500, 955102, 1089611, 1121072, 1225140] [] :2018-12-01
[339428, 477520, 511024, 616767] [] :2018-12-01

TRUE
command exit with status 0

